---
# ClusterRoleBinding to allow COO Prometheus to access platform monitoring federation endpoint
# The Prometheus service account needs cluster-monitoring-view role to access
# the /federate endpoint in openshift-monitoring namespace
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: eip-monitoring-stack-prometheus-federation
  labels:
    app: eip-monitor
    coo: eip-monitoring
    monitoring: "true"
    monitoring-type: "coo"
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: cluster-monitoring-view
subjects:
- kind: ServiceAccount
  name: eip-monitoring-stack-prometheus
  namespace: eip-monitoring

